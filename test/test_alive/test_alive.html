<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>test</title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="cleartype" content="on">
        <style type="text/css">
            body { background:#fafafa;}
        </style>

    </head>
    <body>
        <button id="btn">随机改变数组长度和排序</button>
        <ul id="test">
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
            <li js="text:num"></li>
        </ul>
<script type="text/javascript" src="../vendor/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="../../dist/jplus-debug.js"></script>
<script type="text/javascript">
(function() {
    $.plus.debug = true

    var data = []
    for (var i = 0; i < 20; i += 1) {
        data[i] = i
    }

    $('#test').refresh({num:data})

    $('#btn').on('click', function() {
        var index = Math.floor(Math.random() * (data.length - 1)) + 2
        $('#test').refresh({num: data.slice(0, index).sort(function() { return Math.random() - 0.5})})
    })

}())
</script>
</body>
</html>