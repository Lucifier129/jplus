<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
<title>test-jplus-nesting</title>
<script type="text/javascript" src="vendor/jquery-1.7.2.min.js"></script>
<style type="text/css"></style>
</head>

<body>
	<div class="container" js="refresh:data">
		<h1 js="text:name"></h1>
		<h2 js="text:date"></h2>
		<p js="text: content"></p>
	</div>
	<!--模板模式时，下方这块是多余，控制台查看可发现它还是空的-->
	<div class="container" js="refresh:data">
		<h1 js="text:name"></h1>
		<h2 js="text:date"></h2>
		<p js="text: content"></p>
	</div>
<script type="text/javascript" src="../dist/jplus-debug.js"></script>
<script type="text/javascript">
	$(function() {
		var the_data = [
			{
				name: 'Jade',
				date: new Date(),
				content: 'first'
			},
			{
				name: 'Lesley',
				date: '2014.11.01',
				content: 'second'
			}
		];
		//非模板形式，更新页面中已存在的多个.container，此时不需要写 js 属性
		/*$(".container").refresh(the_data);*/
		//模板模式，不管页面中存在多少个 .container，总是以第一个为模板，clone 式更新
		//需要在html中写 js="refresh:data"
		$('.container').refresh({data:the_data});
	});
</script>
</body>
</html>