/* jplus 2014-12-26 */
(function(t){var n;try{if(define.amd?n=requirejs.s.contexts._.config.paths:define.cmd&&(n=seajs.data.alias),"jquery"in n)define(function(n){var e=n("jquery");return t(e,window),e});else{if(!("zepto"in n))throw Error("No jQuery and Zepto");define(function(n){var e=n("zepto");return t(e,window),e})}}catch(e){t(window.jQuery||window.Zepto||window,window)}})(function(t,n,e){function r(t){return function(){return Function.prototype.call.apply(t,arguments)}}function i(t){return function(n){return null==n?n:y(n)==="[object "+t+"]"}}function o(t,r,i){if(t==e||!x(r))return t;var o,s=t.length,u=0;if(s===+s&&s>0){for(;s>u;u+=1)if(o=r.call(i||n,t[u],u),o!==e)return o;return t}var a,f=N.keys(t);for(s=f.length;s>u;u+=1)if(a=f[u],o=r.call(i||n,t[a],a),o!==e)return o;return t}function s(){var t,n=arguments[0];if("boolean"==typeof n&&(t=n,n=arguments[1]),"object"!=typeof n&&!x(n))return n;var e=w(arguments,t?2:1);return o(e,function(e){"object"==typeof e&&o(e,function(e,r){if(t&&"object"==typeof e){var i=n[r];return n[r]="object"==typeof i?i:{},s(t,n[r],e)}n[r]=e})}),n}function u(t){if(!E(t))return!1;var n,e,r=t.length;if(r>1)for(n=y(t[0]),e=r-1;e>0;e--)if(y(t[e])!==n)return!1;return!0}function a(t){return t+Math.random().toString(36).substr(2)}function f(t){return setTimeout(t,0)}function c(t){var n;return j(t)?n=s(!0,{},t):E(t)?(n=[],o(t,function(t,e){n[e]=c(t)})):n=t,n}function l(t){if(!D.ES5&&t in k)throw Error("If you want to support IE6/7/8. The property name [ "+t+" ] can not be observed, "+"because DOM has the same property name. "+"You can use the [observe.ES5 = true] to ignore IE6/7/8.")}function h(t){t.prevObject=t.context=null,this.$startNode=t,this.viewModel={}}function v(t,n){return t.$info[n]}function p(n){var e=t(n).clone()[0];return e.$info=n.$info,e}function d(n,e,r){var i=v(n,r);if(i){var s=i.params,u=t(n);o(i.method,function(t,n){var r=z[t]||_;r.apply(u,s[n].concat(e))})}}function _(){window.console&&console.log("calling noop")}function g(t,n,e){this.dataModel=t,this.viewModel=n,this.startNode=e}var m=Object.prototype,y=r(m.toString),b=r(m.hasOwnProperty),w=r(Array.prototype.slice),j=i("Object"),O=i("String"),x=i("Function"),E=Array.isArray||i("Array");if(!String.prototype.trim){var M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(M,"")}}var N={keys:Object.keys||function(t){var n=[];if(!j(t))return n;for(var e in t)b(t,e)&&n.push(e);return n},parse:function(t){var n={};if(!O(t))return n;var e=t.trim().split(";");return o(e,function(t){if(t=t.trim().split(":"),!(2>t.length)){var e=t[1].trim();n[e]=n[e]||{},n[e][t[0].trim()]=1}}),n}},A=Object.create||function(t){var n=function(){};return n.prototype=t,new n};Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var n=this.length-1;n>=0;n--)if(this[n]===t)return n;return-1});var $=function(t,n,e,r){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;var i=y(t);if(i!==y(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,u=n.constructor;if(s!==u&&!(x(s)&&s instanceof s&&x(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}for(var a=e.length;a--;)if(e[a]===t)return r[a]===n;e.push(t),r.push(n);var f,c;if(o){if(f=t.length,c=f===n.length)for(;f--&&(c=$(t[f],n[f],e,r)););}else{var l,h=N.keys(t);if(f=h.length,c=N.keys(n).length===f)for(;f--&&(l=h[f],c=b(n,l)&&$(t[l],n[l],e,r)););}return e.pop(),r.pop(),c};N.isEqual=function(t,n){return $(t,n,[],[])};var S,F,q=document,I=q.getElementsByTagName("head")[0],k=q.createComment("Kill IE6/7/8"),V=/\[native code\]/;V.test(Object.defineProperty)&&V.test(Object.create)?F=Object.defineProperty:V.test(Object.prototype.__defineSetter__)&&(F=function(t,n,e){t.__defineGetter__(n,e.get),t.__defineSetter__(n,e.set)});var C;F?(S=!0,C=function(t,n){function e(){o(t.__events__[n],function(e){o(e,function(e){e.call(t,i,n,s)})}),s=c(i),r=!1}if(!(n in t.__events__)){var r,i=t[n],s=c(i);F(t,n,{get:function(){return i},set:function(t){i=t,r||N.isEqual(t,s)||(r=!0,f(e))}})}}):"onpropertychange"in I&&(C=function(t){function n(n,i){var s=e[n],u=t[n];N.isEqual(u,s)||(o(i,function(e){o(e,function(e){e.call(t,u,n,s)})}),e[n]=c(u),r[n]=!1)}if(!t.onpropertychange){var e={},r={};t.each(function(t,n){e[n]=c(t)}),t.onpropertychange=function(t){var e=(t||window.event).propertyName,i=this.__events__;if(e in i){if(r[e])return;r[e]=!0,f(function(){n(e,i[e])})}}}});var B={_add:function(t,n,e){l(t),C(this,t),e=e||a("observer");var r=this.__events__[t]=this.__events__[t]||{};return r[e]=r[e]||[],r[e].push(n),this},on:function(){var t,n=this,e=w(arguments),r=e.length;if(1===r)j(t=e[0])?o(t,function(t,e){n.on(e,t)}):x(t)&&this.each(function(e,r){n._add(r,t,"__all__")});else if(2===r){if(!x(e[1]))return this;if(O(t=e[0])){var i=t.indexOf(".");0>=i?this._add(t,e[1]):this._add(t.substr(0,i),e[1],t.substr(i+1))}else E(t)&&o(t,function(t){n.on(t,e[1])})}return this},_bang:function(t,n,e){var r=this,i=r[t];o(this.__events__[t][e],function(e){e.call(r,n,t,i)})},trigger:function(t,n){var e,r=this;return t?(O(t)?(e=t.indexOf("."),e>0?this._bang(t.substr(0,e),n,t.substr(e+1)):e?o(this.__events__[t]||[],function(e,i){r._bang(t,n,i)}):(t=t.substr(1),o(this.__events__,function(e,i){o(e,function(e,o){o===t&&r._bang(i,n,o)})}))):E(t)&&o(t,function(t){r.trigger(t,n)}),this):this},_remove:function(t,n,e){var r=this.__events__[t][e]||[],i=r.indexOf(n);return-1!==i&&r.splice(i,1),this},off:function(){var t,n,e=this,r=w(arguments),i=r.length;if(i){if(1===i)x(t=r[0])?o(this.__events__,function(n,r){o(n,function(n,i){e._remove(r,t,i)})}):O(t)&&(n=t.indexOf("."),0>=n?this.__events__[t]={}:delete this.__events__[t.substr(0,n)][t.substr(n+1)]);else if(2===i){if(!x(r[1]))return this.off(r[0]),this;O(t=r[0])?(n=t.indexOf("."),0>=n?o(this.__events__[t],function(n,i){e._remove(t,r[1],i)}):this._remove(t.substr(0,n),r[1],t.substr(n+1))):E(t)&&o(t,function(t){e.off(t,r[1])})}}else this.__events__={};return this},offAll:function(){var t=this;return o(this.__events__,function(n,e){t.off([e,"__all__"].join("."))}),this},each:function(t){var n=this;if(this.nodeName)for(var e in this)-1!==n.filter.indexOf(e)||e in k||t.call(n,this[e],e);else o(this,function(e,r){-1===n.filter.indexOf(r)&&t.call(n,e,r)});return this},extend:function(){return s.apply(n,[this].concat(w(arguments)))},once:function(t,n){function e(){n.apply(r,arguments),r.off(e)}var r=this;return t+=".once",this.on(t,e)},tie:function(t,n){if(!x(n))return this;if(E(t)){var e=this,r=t.length,i=[],s=[],u=function(u,a){0>i.indexOf(a)?(i.push(a),i.length===r&&(o(t,function(t,n){t=t.split(".")[0],s[n]=e[t]}),n.apply(e,s))):i.length>=r&&(i.length=0,i.push(a))};return this.on(t,u)}return O(t)?(t=t.split(" "),t.length>1?this.tie(t,n):this.on(t[0],n)):this},collect:function(t,n,e){function r(t){o.push(t),o.length===n&&(e.apply(i,o),i.off(r))}var i=this,o=[];return this.on(t,r)}};B.bind=B.on,B.unbind=B.off,B.fire=B.trigger,B.filter=N.keys(B).concat(["__events__","filter"]);var D=S?function(t,n){if(!j(t))return{};var e=s(A(B),t,{__events__:{}});return j(n)||x(n)?e.on(n):e}:function(t,n){if(!j(t))return{};var e=s(I.appendChild(q.createComment("[object Object]")),B,t,{__events__:{}});return j(n)||x(n)?e.on(n):e};if(D.ES5=!1,D.fn=B,t.observe=D,t!==n){var P=t.plus={attr:"js",filterAttr:["noscan","app"],viewModel:[]},T=r(Array.prototype.push);h.prototype={filter:function(n){var e=[],r=this.$startNode[0],i=r.id=r.id||"filter_id_for_scaner";return o(P.filterAttr,function(n){var r=t(["#"+i,"["+n+"]","["+P.attr+"]"].join(" "));e.push.apply(e,w(r))}),"filter_id_for_scaner"===i&&(r.removeAttribute?r.removeAttribute("id"):r.id=""),n.filter(function(){return-1===e.indexOf(this)})},parse:function(n){var r=this.viewModel;return o(N.parse(n.attr(P.attr)),function(i,s){var u=r[s]=r[s]||{},a=n[0],f=a.$info=a.$info||{};if(f[s]=f[s]||{method:[],params:[]},o(i,function(t,n){n=n.split("-"),f[s].method.push(n[0]),f[s].params.push(n.slice(1))}),u.instance)T(u.instance,a);else{u.instance=t(a),u.lastValue=u.instance.context=null,u.alive=n.attr("unalive")!=e?!1:!0,u.template=a.cloneNode(!0),u.template.$info=f;var c=a.parentNode;u.parent=/fragment/i.test(c.nodeName)?null:c}}),this},scan:function(){var n=this;return this.parse(this.$startNode).filter(this.$startNode.find("["+P.attr+"]")).each(function(){var e=t(this);e.prevObject=e.context=null,n.parse(e)}),this},rescan:function(){return this.viewModel={},this.scan()},get:function(){return this.viewModel}},t.fn.scanView=function(t){if(!this.length)return{};var n=this[0],e=n.vmIndex;if("number"==typeof e&&!t)return P.viewModel[e].get();var r=P.viewModel[n.vmIndex||(n.vmIndex=P.viewModel.length)]=new h(this);return r.scan().get()};var z=t.fn;t.noop=t.noop||function(){},g.prototype={refresh:function(){for(var t,n,r=this.viewModel,i=this.dataModel,o=N.keys(r),s=0,u=o.length;u>s;s+=1)n=o[s],t=i[n],t!==e&&this.render(r[n],t,n)},render:function(t,n,e){if(!N.isEqual(n,t.lastValue)){t.lastValue=c(n);var r=t.instance;if(u(n)){var i,o,s=r.length,a=n.length;if(t.alive)if(s>=a)for(r.slice(a).each(function(){var t=this.vmIndex;"number"==typeof t&&(P.viewModel[t]=null)}).remove(),r=t.instance=r.slice(0,a),r.prevObject=null,o=0;a>o;o+=1)d(r[o],n[o],e);else{var f=t.template,l=q.createDocumentFragment();for(o=0;a>o;o+=1)s>o?i=r[o]:(i=p(f),T(r,l.appendChild(i))),d(i,n[o],e);if(l.childNodes.length)if(!s&&t.parent)t.parent.appendChild(l);else{var h,v=r[s-1];(h=v.nextSibling)?v.parentNode.insertBefore(l,h):v.parentNode.appendChild(l)}f=l=null}else{var _=Math.min(s,a);for(o=0;_>o;o+=1)d(r[o],n[o],e)}}else r.each(function(){d(this,n,e)})}}},t.fn.refresh=function(t){var n=this,e=this[0];return j(t)?new g(t,this.scanView(),e).refresh():E(t)&&o(t,function(t,r){var i=n.eq(r);i.length&&new g(t,i.scanView(),e).refresh()}),this},s(t.fn,{render:function(n){function e(t,n){var e=i[n];x(e)&&e[E(t)?"apply":"call"](r,t)}var r=this,i=t.fn;return j(n)?o(n,e):E(n)&&o(n,function(t){j(t)&&o(t,e)}),this},listen:function(n){var e=this;return e.refresh(n),t.observe(n,function(t,n){var r={};r[n]=t,e.refresh(r)})}}),t.define=function(n,r){var i,o=t(n);return o.length?(i={},i=r(i)||i,o.listen(i)):e},t.render=function(n){return t("[render]").each(function(){var e,r=t(this),i=r.attr("render");i in n&&j(e=n[i])&&r.render(e)}),this};var Q={vmodel:{},ready:function(n){var e=this;return t(document).ready(function(){n.call(e.$scan())}),this},$scan:function(){var n=this;return t("[app]").each(function(){var e=t(this),r=e.attr("app"),i=!1;n.vmodel[r]=e.scanView(),n.on(r+".module",function(t,n){!i&&j(t)&&(i=!0,this[n]=e.listen(t),i=!1)})}),this}};t.module=t.observe(Q)}});